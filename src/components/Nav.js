import React, { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import "./Nav.css";

const Nav = () => {
  const [searchValue, setSearchValue] = useState('');
  const navigate = useNavigate();

  const handleChange = (e) => {
    setSearchValue(e.target.value);
    navigate(`/search?q=${e.target.value}`);
  };

  const svgCode = `
  <svg xmlns="http://www.w3.org/2000/svg" width="87" height="32" viewBox="0 0 87 32" fill="none">
  <g clip-path="url(#clip0_574_1975)">
<path d="M11.3006 0C18.3522 0 20.5648 5.42022 20.5648 9.53297C20.5648 15.64 16.9345 22.4629 9.26421 22.4629C2.21259 22.4629 0 17.0427 0 12.9299C0 6.82286 3.63029 0 11.3006 0ZM9.41172 18.768C14.8121 18.768 16.1396 12.6899 16.1396 9.32196C16.1396 5.39126 13.8082 3.69072 11.1531 3.69072C5.75274 3.69072 4.42519 9.76881 4.42519 13.1368C4.42519 17.0675 6.75661 18.768 9.41172 18.768Z" fill="#FD7E14"/>
<path d="M28.1736 4.22855H22.5684L23.2485 0.533691H38.2655L37.5853 4.22855H32.5988L29.411 21.925H24.9858L28.1736 4.22855Z" fill="#FD7E14"/>
<path d="M44.5759 4.22855H38.9707L39.6509 0.533691H54.6678L53.9877 4.22855H49.0011L45.8134 21.925H41.3882L44.5759 4.22855Z" fill="#FD7E14"/>
<path d="M61.1866 15.4333C61.6005 15.6112 62.129 16.087 62.338 16.5049C59.8017 19.484 56.8803 22.2272 54.344 22.2272C51.8077 22.2272 50.9513 20.1129 52.2502 17.8165L58.4168 7.02985H61.4857L54.9053 18.6192C54.1965 19.8398 54.5816 20.3156 55.2577 20.3156C56.6139 20.3156 58.7692 18.2592 60.9818 15.6691L61.1866 15.4291V15.4333ZM61.8668 1.84961C62.8707 1.84961 63.6655 2.6523 63.6655 3.666C63.6655 4.67971 62.8707 5.45344 61.8668 5.45344C60.8629 5.45344 60.0967 4.67971 60.0967 3.666C60.0967 2.6523 60.8629 1.84961 61.8668 1.84961Z" fill="#FD7E14"/>
<path d="M72.1591 15.4332C72.5729 15.6111 73.1015 16.0869 73.3104 16.5048C69.8276 20.5845 65.7589 21.4782 62.7473 21.6602C63.0423 22.525 63.0137 23.6877 62.395 24.7883L60.0922 28.8679C56.8184 34.6771 52.0982 31.3711 54.4583 27.2294L67.1438 4.97341C71.1552 -2.05633 77.793 -0.0620208 74.2528 6.13607L69.3278 14.7464C67.7625 17.4565 65.2263 19.2149 63.1325 20.3197C65.5827 20.1418 68.9139 19.2149 71.9542 15.6732L72.1591 15.4332ZM60.6822 21.7182H60.4159L56.9331 27.7342C55.6629 29.9106 56.9331 30.4443 57.9944 28.599L60.5593 24.0394C61.178 22.8767 61.178 22.045 60.6781 21.714L60.6822 21.7182ZM61.6574 19.5418C64.0749 18.4702 66.1113 15.8759 67.4675 13.5258L72.2492 5.15546C73.7529 2.35432 71.6305 2.23433 69.9792 5.1265L61.6574 19.5459V19.5418Z" fill="#FD7E14"/>
<path d="M78.4451 16.5669L83.8741 7.0339H86.9431L78.5352 21.5733C80.9527 20.5307 83.1079 18.6232 85.6442 15.6732L85.8491 15.4332C86.2629 15.6111 86.7915 16.0869 87.0004 16.5048C83.6365 20.4355 80.5102 22.6408 77.3224 23.6545L74.9623 27.7342C72.7497 31.549 68.2344 30.9243 68.2344 27.9411C68.2344 25.6157 70.8321 23.8904 74.991 22.6367L76.6709 19.7156C75.286 20.9651 73.602 22.2188 72.1269 22.2188C70.0905 22.2188 69.3816 20.2824 70.9468 17.5392L76.9659 7.02148H80.0349L74.0445 17.5682C73.6593 18.2219 72.8931 19.3846 73.6593 19.7114C74.2494 19.9804 76.0809 18.7598 78.441 16.5545L78.4451 16.5669ZM72.3973 27.2335L73.815 24.7303C71.4549 25.653 70.7174 26.5757 70.7174 27.3825C70.7174 28.1893 71.7499 28.3962 72.3973 27.2335Z" fill="#FD7E14"/>
</g>
<defs>
<clipPath id="clip0_574_1975">
<rect width="87" height="32" fill="white"/>
</clipPath>
</defs>
</svg>
`;

  return (
    <div className='nav-container'>
      <div className="nav-wrap">
        <div className="nav-left-wrap">
          <Link style={{ display: 'flex', alignItems: 'center' }} to="/">
            <img
              style={{ width: "154px", height: "20px" }}
              src={`data:image/svg+xml;utf8,${encodeURIComponent(svgCode)}`}
              alt="로고"
            />
          </Link>
          <ul>
            <li>
              <Link className="nav-nav-item" to="/movie">
                토론
              </Link>
            </li>
            {/* Other navigation items */}
          </ul>
        </div>
        <div>
          {/* Search input */}
          <input
            value={searchValue}
            onChange={handleChange}
            className="nav__input"
            type="text"
            placeholder="영화를 검색해주세요."
          />
          
            <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="#ADB5BD"
            className="nav__avatar"
          >
            <path d="M12 6C13.1 6 14 6.9 14 8C14 9.1 13.1 10 12 10C10.9 10 10 9.1 10 8C10 6.9 10.9 6 12 6ZM12 16C14.7 16 17.8 17.29 18 18H6C6.23 17.28 9.31 16 12 16ZM12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" />
          </svg>
        </div>
      </div>
    </div>
  );
};

export default Nav;
